Make geant4make.sh pick up the data dirs from the Geant4-data module

Ã…ke Sandgren, 2023-06-21
diff -ru geant4-11.1.2.orig/cmake/Modules/G4ConfigureGNUMakeHelpers.cmake geant4-11.1.2/cmake/Modules/G4ConfigureGNUMakeHelpers.cmake
--- geant4-11.1.2.orig/cmake/Modules/G4ConfigureGNUMakeHelpers.cmake	2023-06-19 17:14:55.000000000 +0200
+++ geant4-11.1.2/cmake/Modules/G4ConfigureGNUMakeHelpers.cmake	2023-06-21 13:15:18.015596299 +0200
@@ -499,11 +499,12 @@
   endif()
 
   # - Resource file paths
-  set(GEANT4_TC_DATASETS )
-  foreach(_ds ${GEANT4_EXPORTED_DATASETS})
-    _g4tc_setenv_command(_dssetenvcmd ${SHELL_FAMILY} ${${_ds}_ENVVAR} ${${_ds}_PATH})
-    set(GEANT4_TC_DATASETS "${GEANT4_TC_DATASETS}${_dssetenvcmd}\n")
-  endforeach()
+# Take the env vars from the EB Geant4-data module
+#  set(GEANT4_TC_DATASETS )
+#  foreach(_ds ${GEANT4_EXPORTED_DATASETS})
+#    _g4tc_setenv_command(_dssetenvcmd ${SHELL_FAMILY} ${${_ds}_ENVVAR} ${${_ds}_PATH})
+#    set(GEANT4_TC_DATASETS "${GEANT4_TC_DATASETS}${_dssetenvcmd}\n")
+#  endforeach()
 
   set(GEANT4_TC_TOOLS_FONT_PATH "# FREETYPE SUPPORT NOT AVAILABLE")
   if(GEANT4_USE_FREETYPE)
