# Thomas Hoffmann, EMBL Heidelberg, structures-it@embl.de, 2024/05
easyblock = 'PythonBundle'

name = 'lil-aretomo'
version = '0.1.0'

homepage = 'https://github.com/teamtomo/lil-aretomo'
description = """
A lightweight Python API for AreTomo.
"""

toolchain = {'name': 'foss', 'version': '2023a'}

patches = []

dependencies = [
    ('Python', '3.11.3'),
    ('mrcfile', '1.5.0'),
    ('SciPy-bundle', '2023.07'),
]

use_pip = True

exts_list = [
    ('typer', '0.9.0', {
        'checksums': ['50922fd79aea2f4751a8e0408ff10d2662bd0c8bbfa84755a699f3bada2978b2'],
    }),
    ('lil_aretomo', version, {
        # add executable arg in order to allow using AreTomo2 executable
        'patches': ['lil-aretomo-0.1.0_exec_pr43.patch'],
        'checksums': [
            {'lil_aretomo-0.1.0.tar.gz': '0749604bbf75f2d9013c6a40b5c024be2ed54dd1ccb1fd7c7663a0fd2f175e8f'},
            {'lil-aretomo-0.1.0_exec_pr43.patch': '3ecd78b0bf8bf441b2d5224be2b85bd17f85b04d756af421993d74f7722b5f21'},
        ],
    }),
]

sanity_pip_check = True
sanity_check_paths = {
    'files': [],
    'dirs': ['lib/python%(pyshortver)s/'],
}

moduleclass = 'bio'
