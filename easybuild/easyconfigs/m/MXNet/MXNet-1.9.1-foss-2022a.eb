name = 'MXNet'
version = '1.9.1'

homepage = 'https://mxnet.io/'
description = """Flexible and Efficient Library for Deep Learning"""

toolchain = {'name': 'foss', 'version': '2022a'}
toolchainopts = {'cstd': 'c++14', 'opt': True, 'pic': True, 'openmp': True, 'extra_cflags': '-lflexiblas'}


# MXNet pulls in a bunch of submodules with specific commits
sources = [
    {
        'source_urls': ['https://github.com/apache/mxnet/archive/'],
        'download_filename': 'v%(version)s.tar.gz',
        'filename': SOURCELOWER_TAR_GZ,
    },
    {
        'source_urls': ['https://github.com/dmlc/ps-lite/archive/'],
        'download_filename': '34fd45cae457d59850fdcb2066467778d0673f21.tar.gz',
        'filename': 'ps-lite-20200229.tar.gz',
    },
        {
        'source_urls': ['https://github.com/apache/tvm/archive/'],
        'download_filename': 'efdac9439506d1de5eec91ecc795982c78e41909.tar.gz',
        'filename': 'tvm-20201111.tar.gz',
    },
            {
        'source_urls': ['https://github.com/dmlc/dmlc-core/archive/'],
        'download_filename': '5df8305fe699d3b503d10c60a231ab0223142407.tar.gz',
        'filename': 'dmlc-core-20200410.tar.gz',
    },
                {
        'source_urls': ['https://github.com/dmlc/dlpack/archive/'],
        'download_filename': '3efc489b55385936531a06ff83425b719387ec63.tar.gz',
        'filename': 'dlpack-20200121.tar.gz',
    },
                    {
        'source_urls': ['https://github.com/google/googletest/archive/'],
        'download_filename': 'eb9225ce361affe561592e0912320b9db84985d0.tar.gz',
        'filename': 'googletest-20190114.tar.gz',
    },
                        {
        'source_urls': ['https://github.com/kpu/intgemm/archive/'],
        'download_filename': '8f28282c3bd854922da638024d2659be52e892e9.tar.gz',
        'filename': 'intgemm-20200915.tar.gz',
    },
                            {
        'source_urls': ['https://github.com/NVlabs/cub/archive/'],
        'download_filename': '0158fa19f28619886232defd412433974af89611.tar.gz',
        'filename': 'cub-20200424.tar.gz',
    },
                                {
        'source_urls': ['https://github.com/onnx/onnx-tensorrt/archive/'],
        'download_filename': '2eb74d933f89e1590fdbfc64971a36e5f72df720.tar.gz',
        'filename': 'onnx-tensorrt-20200624.tar.gz',
    },
                                    {
        'source_urls': ['https://github.com/oneapi-src/oneDNN/archive/'],
        'download_filename': '5818c40f07bdb6307f9bc64e929836fe036da644.tar.gz',
        'filename': 'oneDNN-20220325.tar.gz',
    },
]

builddependencies = [
    ('CMake', '3.23.1'),
]

dependencies = [
    ('Python', '3.10.4'),
    ('graphviz-python', '0.20.1'),
    ('OpenCV', '4.6.0', '-contrib'),
]

moduleclass = 'math'
